<view>
    <main>
        <h1>Home</h1>
        <button onclick="toggleIndex">Toggle index</button>
        <section id="index"></section>
        <section id="userList"></section>
    </main>
</view>

<style>
</style>

<import>
    <Component>Component</Component>
</import>

<script>
    const userCard = new Component("components/userCard.lgs");
    const pageIndex = new Component("components/pageIndex.html");

    let indexState = false;
    function toggleIndex() {
        indexState != indexState;
        if (indexState) pageIndex.render(document.getElementById("index"));
        else index.innerHTML = "";
    }

    function loadUsers() {
        const res = await fetch("https://jsonplaceholder.typicode.com/users");
        userCard.render(document.getElementById("userList"), await res.json());
    }

    loadUsers();
</script>