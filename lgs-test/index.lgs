<view>
    <main>
        <h1>Home</h1>
        <button onclick="toggleIndex()">Toggle index</button>
        <section id="index"></section>
        <section id="userList"></section>
    </main>
</view>

<style>
    h1 {
        text-align: center;
    }
</style>

<script>
    const userCard = new Component("components/userCard.lgs");
    const pageIndex = new Component("components/pageIndex.lgs");

    let indexState = false;
    function toggleIndex() {
        indexState = !indexState;
        if (indexState) pageIndex.render(document.getElementById("index"));
        else document.getElementById("index").innerHTML = "";
    }

    async function loadUsers() {
        const res = await fetch("https://jsonplaceholder.typicode.com/users");
        userCard.render(document.getElementById("userList"), await res.json());
    }

    loadUsers();
</script>